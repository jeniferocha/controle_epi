{% extends "app_produtos/index.html" %}

{% block title %}Login{% endblock title %}

{% block content %}

<h1>Login</h1>

<form method="POST" action="{% url 'login' %}" novalidate>
  {% csrf_token %}
  <div class="col-sm-7">
    <label for="username" class="form-label">Usuário</label>
    <input type="text" name="username" id="username" class="form-control" required />
  </div>
  <div class="col-sm-7">
    <label for="password" class="form-label">Senha</label>
    <input type="password" name="password" id="password" class="form-control" required />
  </div>
  <button type="submit" class="w-20 btn btn-primary btn-md" style="margin-top: 10px">Entrar</button>


     <!-- Modal de Notificação -->
     <script>
      // Função para exibir o modal com mensagem de sucesso ou erro
      function showNotificationModal(success, message) {
        var modalTitle = document.getElementById('notificationLabel');
        var modalMessage = document.getElementById('notificationMessage');
    
        if (success) {
          modalTitle.textContent = 'Sucesso!';
          modalMessage.textContent = message;
          modalTitle.classList.add('text-success');
        } else {
          modalTitle.textContent = 'Erro!';
          modalMessage.textContent = message;
          modalTitle.classList.add('text-danger');
        }
    
        // Exibe o modal
        var notificationModal = new bootstrap.Modal(document.getElementById('notificationModal'));
        notificationModal.show();
      }
    </script>
     
    
    <div class="modal fade" id="notificationModal" tabindex="-1" aria-labelledby="notificationLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="notificationLabel"></h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="notificationMessage">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Ok</button>
            </div>
          </div>
        </div>
      </div>
  
      {% if message_type and message_content %}
      <script>
        var success = "{{ message_type }}" === "success";
        var message = "{{ message_content }}";
        showNotificationModal(success, message);
      </script>
      {% endif %}
</form>





{% endblock content %}
